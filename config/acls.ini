; ============================================================
; Sistema Declarativo ACL - Reglas por perfil para:
; /srv/samba/02_Proyectos/<PROYECTO>/01_WIP/<ESPECIALIDAD>
;
; OBJETIVO OPERATIVO (para Samba):
; - En /srv/samba/02_Proyectos: listar todos los proyectos.
; - Dentro de cada proyecto: ver 01_WIP.
; - Dentro de 01_WIP: ver SOLO las especialidades autorizadas
;   (esto requiere "hide unreadable = yes" en smb.conf para ocultar lo no legible).
;
; MODELO: DENY-BY-DEFAULT
; ============================================================

[GLOBAL]
root=/srv/samba/02_Proyectos
project_glob=*
wip_folder=01_WIP

; Permisos base para navegar y listar
base_root=rx
base_project=rx
base_wip=rx

; Permisos de escritura declarada
write_dir=rwx
write_file=rw-
default_dir=rwx
default_file=rw-

; Si =1, a todo lo NO declarado como write se le aplica --- (deny explícito)
hide_non_write=1


; =========================
; ARQUITECTURA  (IND_A)
; =========================
[g:Arquitectura]
base_root=rx
base_project=rx
base_wip=rx
write=A_ARQ,O_LEV,YAC_ACU,YPA_PAT,YPM_PTR,YSE_SEN,YSH_SGH


; =========================
; ESTRUCTURAS (IND_E)
; =========================
[g:Estructuras]
base_root=rx
base_project=rx
base_wip=rx
write=E_EST,O_LEV


; =========================
; TOPOGRAFIA (IND_YTP)
; =========================
[g:Topografia]
base_root=rx
base_project=rx
base_wip=rx
write=YTP_TOP,A_ARQ,O_LEV,YAC_ACU,YPA_PAT,YPM_PTR,YSE_SEN,YSH_SGH,E_EST


; =========================
; BIM (IND_B) - visibilidad completa del WIP
; =========================
[g:BIM]
base_root=rx
base_project=rx
base_wip=rx
wip_full_control=rwx
default_dir=rwx
default_file=rw-


; =========================
; Catálogo de especialidades
; =========================
[SPECIALTIES]
A_ARQ
B_BIM
D_DET
E_EST
F_PCI
F_RCI
G_GEN
G_PMO
H_HID
I_GAS
L_ELE
M_MEC
O_LEV
R_REC
T_TEL
YAC_ACU
YBI_BIO
YGE_GEO
YIL_ILU
YPA_PAT
YPM_PTR
YSC_SyC
YTP_TOP
YVU_VUL
YSE_SEN
YSH_SGH
